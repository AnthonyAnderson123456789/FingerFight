(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[798],{1491:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>d});var a=n(5155),i=n(2115),u=n(5219),p=n(1681),s=n(5695),l=n(1678),r=n.n(l),y=n(1499),o=n.n(y);function m(t){let e=(0,s.useRouter)();async function n(){e.push(t.link)}return(0,a.jsx)("div",{className:o().main,children:(0,a.jsx)("button",{onClick:n,children:"\uD83C\uDFC6"})})}let c=[{inputs:[{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"}],name:"battleCounted",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"battles",outputs:[{internalType:"uint256",name:"player1ID",type:"uint256"},{internalType:"uint256",name:"player2ID",type:"uint256"},{internalType:"uint256",name:"p1Score",type:"uint256"},{internalType:"uint256",name:"p2Score",type:"uint256"},{internalType:"bool",name:"finished",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"}],name:"battlesByPlayerID",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"creator",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"p1Score",type:"uint256"},{internalType:"uint256",name:"p2Score",type:"uint256"}],name:"finalizeAndUpdate",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"p1Score",type:"uint256"},{internalType:"uint256",name:"p2Score",type:"uint256"}],name:"finalizeLastBattle",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"playerID",type:"uint256"}],name:"getRecord",outputs:[{internalType:"uint256",name:"wins",type:"uint256"},{internalType:"uint256",name:"losses",type:"uint256"},{internalType:"uint256",name:"ties",type:"uint256"},{internalType:"uint256",name:"level",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"lastCreatedBattleByAddress",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"playerCountPerAddress",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"playerLevel",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"players",outputs:[{internalType:"string",name:"name",type:"string"},{internalType:"address",name:"player_addr",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"string",name:"_name",type:"string"}],name:"registerPlayer",outputs:[{internalType:"uint256",name:"playerID",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"player1ID",type:"uint256"},{internalType:"uint256",name:"player2ID",type:"uint256"}],name:"requestBattle",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"totalLosses",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"totalTies",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"totalWins",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"}];function d(){let t=(0,s.useRouter)(),[e,n]=(0,i.useState)("Loading..."),[l,y]=(0,i.useState)("Loading..."),[o,d]=(0,i.useState)(null);async function T(){if(!o)return void alert("Contract not loaded yet");try{let e=await o.requestBattle(0,1);await e.wait(),t.push("/battle")}catch(t){console.error("Battle creation failed:",t),alert("Could not start battle.")}}return(0,i.useEffect)(()=>{!async function(){if(!window.ethereum)return;let t=new u.k(window.ethereum),e=await t.getSigner(),a=new p.NZ("0xF2cD66B329205dB6f929BfAA96e49585897C8377",c,e);d(a);try{let t=await a.players(0),e=await a.players(1);n(t.name),y(e.name)}catch(t){console.error("Error loading player names:",t),n("Player 1"),y("Player 2")}}()},[]),(0,a.jsxs)("div",{className:r().main,children:[(0,a.jsx)("img",{className:r().image,src:"/mainMenu.jpg",alt:"FingerFight",width:1e3,height:1e3}),(0,a.jsxs)("div",{className:r().awards,children:[(0,a.jsx)(m,{link:"/p1Awards",contract:o}),(0,a.jsx)(m,{link:"/p2Awards",contract:o})]}),(0,a.jsx)("div",{className:r().title,children:"Finger Fight"}),(0,a.jsxs)("div",{className:r().players,children:[(0,a.jsx)("h4",{children:e}),(0,a.jsx)("h4",{children:l})]}),(0,a.jsx)("div",{className:r().battle,children:(0,a.jsx)("button",{onClick:T,children:"Battle"})})]})}},1499:t=>{t.exports={main:"awards_main__ZAFkM"}},1678:t=>{t.exports={main:"page_main__lovcs",image:"page_image__k2CX3",awards:"page_awards__YfDnU",title:"page_title__ccVws",shrinkTitle:"page_shrinkTitle__yBBzK",players:"page_players__563Iw",battle:"page_battle__q29z8",rattle:"page_rattle__rhNfJ"}},5695:(t,e,n)=>{"use strict";var a=n(8999);n.o(a,"useRouter")&&n.d(e,{useRouter:function(){return a.useRouter}})},5816:(t,e,n)=>{Promise.resolve().then(n.bind(n,1491))}},t=>{var e=e=>t(t.s=e);t.O(0,[262,219,441,684,358],()=>e(5816)),_N_E=t.O()}]);