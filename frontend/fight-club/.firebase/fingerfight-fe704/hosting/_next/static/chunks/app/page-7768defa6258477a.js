(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{646:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>d});var a=n(5155),i=n(2115),u=n(5219),l=n(1681),r=n(8334),p=n.n(r),s=n(7581),y=n.n(s);function o(t){let[e,n]=(0,i.useState)(""),[u,l]=(0,i.useState)(!1);async function r(){if(!t.contract)return void alert("Contract not available.");try{let n=await t.contract.registerPlayer(e);await n.wait(),l(!0)}catch(t){console.error("Registration failed:",t)}}return(0,a.jsxs)("div",{className:y().main,children:[(0,a.jsx)("h5",{className:y().title,children:t.title}),(0,a.jsx)("input",{type:"text",placeholder:"Enter your name",value:e,onChange:t=>n(t.target.value)}),(0,a.jsx)("button",{onClick:r,children:"Enter"}),u&&(0,a.jsx)("div",{className:y().overlay,children:(0,a.jsxs)("span",{children:["User ",(0,a.jsx)("br",{})," Connected"]})})]})}var c=n(5695);let m=[{inputs:[{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"}],name:"battleCounted",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"battles",outputs:[{internalType:"uint256",name:"player1ID",type:"uint256"},{internalType:"uint256",name:"player2ID",type:"uint256"},{internalType:"uint256",name:"p1Score",type:"uint256"},{internalType:"uint256",name:"p2Score",type:"uint256"},{internalType:"bool",name:"finished",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"}],name:"battlesByPlayerID",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"creator",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"p1Score",type:"uint256"},{internalType:"uint256",name:"p2Score",type:"uint256"}],name:"finalizeAndUpdate",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"p1Score",type:"uint256"},{internalType:"uint256",name:"p2Score",type:"uint256"}],name:"finalizeLastBattle",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"playerID",type:"uint256"}],name:"getRecord",outputs:[{internalType:"uint256",name:"wins",type:"uint256"},{internalType:"uint256",name:"losses",type:"uint256"},{internalType:"uint256",name:"ties",type:"uint256"},{internalType:"uint256",name:"level",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"lastCreatedBattleByAddress",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"playerCountPerAddress",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"playerLevel",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"players",outputs:[{internalType:"string",name:"name",type:"string"},{internalType:"address",name:"player_addr",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"string",name:"_name",type:"string"}],name:"registerPlayer",outputs:[{internalType:"uint256",name:"playerID",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"player1ID",type:"uint256"},{internalType:"uint256",name:"player2ID",type:"uint256"}],name:"requestBattle",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"totalLosses",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"totalTies",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"totalWins",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"}];function d(){let[t,e]=(0,i.useState)(null),[n,r]=(0,i.useState)(null),s=(0,c.useRouter)();async function y(){if(!window.ethereum)return void alert("Please install MetaMask or another Web3 wallet.");let t=new u.k(window.ethereum);await t.send("eth_requestAccounts",[]);let n=await t.getSigner(),a=await n.getAddress();e(new l.NZ("0xF2cD66B329205dB6f929BfAA96e49585897C8377",m,n)),r(a),console.log("Wallet connected:",a)}return(0,a.jsx)("div",{className:p().page,children:n?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:p().info,children:[(0,a.jsx)("div",{children:(0,a.jsx)(o,{title:"Player 1",contract:t})}),(0,a.jsx)("div",{children:(0,a.jsx)(o,{title:"Player 2",contract:t})})]}),(0,a.jsx)("button",{onClick:()=>s.push("/main"),className:p().button,children:"Start"}),(0,a.jsx)("h1",{className:p().warning,children:"Please remember to keep your device in portrait mode."})]}):(0,a.jsxs)("div",{className:p().info,children:[(0,a.jsx)("h1",{className:p().warning,children:"Please connect your wallet to continue"}),(0,a.jsx)("button",{className:p().button,onClick:y,children:"Connect Wallet"})]})})}},5695:(t,e,n)=>{"use strict";var a=n(8999);n.o(a,"useRouter")&&n.d(e,{useRouter:function(){return a.useRouter}})},6914:(t,e,n)=>{Promise.resolve().then(n.bind(n,646))},7581:t=>{t.exports={main:"nameEntry_main__UXUSH",title:"nameEntry_title__eujNN",overlay:"nameEntry_overlay__ByTMX"}},8334:t=>{t.exports={page:"page_page__ZU32B",info:"page_info__8u_Lr",warning:"page_warning__LyTWh",button:"page_button__vnlhW"}}},t=>{var e=e=>t(t.s=e);t.O(0,[814,219,441,684,358],()=>e(6914)),_N_E=t.O()}]);